<div class="control-group">
    <cms-field>
        <label class="control-label" for="{{vm.modelName}}">{{vm.title}}:</label>

        <div class="controls">

            <input type="hidden"
                   id="{{vm.modelName}}"
                   name="{{vm.modelName}}"
                   ng-model="vm.model"
                   ng-change="vm.onChange()" />

            <div ng-if="vm.previewAsset">
                <cms-document-asset cms-document="vm.previewAsset"></cms-document-asset>
            </div>
            <div ng-if="!vm.previewAsset">None</div>

            <div ng-hide="!vm.formScope.editMode">
                <cms-button-icon cms-href="/admin/documents#/{{vm.previewAsset.documentAssetId}}"
                                 cms-external="true"
                                 cms-title="Edit document"
                                 cms-icon="external-link"
                                 ng-disabled="vm.loadState.isLoading || vm.disabled"
                                 ng-if="vm.previewAsset">
                </cms-button-icon>
                <cms-button-icon cms-title="{{vm.buttonText}}"
                                 cms-icon="cog"
                                 ng-click="vm.showPicker()"
                                 ng-disabled="vm.loadState.isLoading || vm.disabled">
                </cms-button-icon>
                <cms-button-icon cms-title="Remove"
                                 cms-icon="trash-o"
                                 ng-if="vm.isRemovable"
                                 ng-click="vm.remove()"
                                 ng-disabled="vm.loadState.isLoading || vm.disabled">
                </cms-button-icon>
            </div>

            <cms-form-field-validation-summary></cms-form-field-validation-summary>
        </div>
    </cms-field>
    <p class="help-inline" ng-if="vm.description">
        <small>{{vm.description}}</small>
    </p>
</div>